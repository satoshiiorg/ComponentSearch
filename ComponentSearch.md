
画像処理関連
・OpenCV
・特徴点を正規化して点ごとにDB登録
・検索時は同様に特徴点を正規化して点ごとに in で検索？
・実際にこれでうまくいくのかどうか
・精度あげるにはML？どのように？
・特徴点の検出の精度をMLでやる感じ？
・物体検出は？
・形状マッチング
・文字認識も使うかどうか
    ・検索キーに使えるので取れればとる

IF
・ウェブベース
・カメラAPI
・のちのち必要になるかもしれないのでPythonベース？

DB/DDL
何らかの特徴量を何らかの形式で正規化してDBに格納
検索ソースとなる画像の特徴量を使ってその特徴量の近傍にあるレコードを検索
あるいは特徴量の距離を取ってソート上位を表示（距離の*和*の小さいもの）
最初に輪郭で部品を切り分けて部品ごとに特徴量を取る

特徴量が配列で返るなら (ゲーム, コンポーネント, 特徴量) をPKにして
多対多で特徴量をマッチングさせゲームでグルーピングして件数順に表示とか


BGG/Amazon辺りをAPI使ってクロールしてML

ヒストグラムで絞ってからマッチングするとか？
でも背景とかコンポーネント丸ごと撮ってるかどうかとかで微妙
背景白にしてとか指定できるものか 照明でも違ってくるだろうし
単体でやるのでない限り物体検出はどうしても必要になる


# 画像のアップロードについて
axiosデフォルトのフォーム送信はJSONらしく、
単に画像をファイルとしてアップロードするならBASE64などでエンコードして詰めるのがよさそう
ただ今回はサーバ側でOpenCVを使う関係上エンコード/デコードを繰り返すのは無駄なので
通常のmulti-partとして送信した方がよさそう



# Cloud9起動時の
cd ComponentSearch; python3 -m http.server --cgi
echo "http://$(curl http://169.254.169.254/latest/meta-data/public-ipv4 2>/dev/null):8000/index.html"

# OpenCVインストールはこれでやった
sudo pip-3.6 install numpy opencv-python 

# あとで見る
https://hazm.at/mox/machine-learning/computer-vision/recipes/similar-image-retrieval.html
とりあえず特徴量ベースでDBなし検索で一致度見てから考える

